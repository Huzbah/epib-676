<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="YOUR NAME HERE">
<meta name="dcterms.date" content="2022-12-24">

<title>Assignment 1: Decision trees and cost-effectiveness</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="assign1_trees_cea_files/libs/clipboard/clipboard.min.js"></script>
<script src="assign1_trees_cea_files/libs/quarto-html/quarto.js"></script>
<script src="assign1_trees_cea_files/libs/quarto-html/popper.min.js"></script>
<script src="assign1_trees_cea_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assign1_trees_cea_files/libs/quarto-html/anchor.min.js"></script>
<link href="assign1_trees_cea_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assign1_trees_cea_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assign1_trees_cea_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assign1_trees_cea_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assign1_trees_cea_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="assign1_trees_cea_files/libs/tabwid-1.1.0/tabwid.css" rel="stylesheet">
<link href="assign1_trees_cea_files/libs/tabwid-1.1.0/scrool.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#section-1-decision-trees" id="toc-section-1-decision-trees" class="nav-link active" data-scroll-target="#section-1-decision-trees">Section 1: Decision trees</a>
  <ul class="collapse">
  <li><a href="#a-expected-value-calculations" id="toc-a-expected-value-calculations" class="nav-link" data-scroll-target="#a-expected-value-calculations">1a Expected value calculations</a></li>
  <li><a href="#b-peptic-ulcer-closure-decision-model" id="toc-b-peptic-ulcer-closure-decision-model" class="nav-link" data-scroll-target="#b-peptic-ulcer-closure-decision-model">1b Peptic ulcer closure decision model</a></li>
  </ul></li>
  <li><a href="#section-2-economic-evaluation" id="toc-section-2-economic-evaluation" class="nav-link" data-scroll-target="#section-2-economic-evaluation">Section 2: Economic evaluation</a>
  <ul class="collapse">
  <li><a href="#a-discounting" id="toc-a-discounting" class="nav-link" data-scroll-target="#a-discounting">2a Discounting</a></li>
  <li><a href="#b-incremental-analysis" id="toc-b-incremental-analysis" class="nav-link" data-scroll-target="#b-incremental-analysis">2b Incremental analysis</a></li>
  <li><a href="#c-identifying-maximum-net-monetary-benefit" id="toc-c-identifying-maximum-net-monetary-benefit" class="nav-link" data-scroll-target="#c-identifying-maximum-net-monetary-benefit">2c Identifying maximum net monetary benefit</a></li>
  </ul></li>
  <li><a href="#last-two-questions" id="toc-last-two-questions" class="nav-link" data-scroll-target="#last-two-questions">Last two questions</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 1: Decision trees and cost-effectiveness</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>YOUR NAME HERE </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 24, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="section-1-decision-trees" class="level1">
<h1>Section 1: Decision trees</h1>
<p>We’ll use the <a href="https://cran.r-project.org/web/packages/rdecision/index.html">rdecision package</a> to develop and visualize decision trees. There are multiple vignettes on the CRAN page; <a href="https://cran.rstudio.com/web/packages/rdecision/vignettes/DT00-DecisionTreeTutorial.html">this introductory one</a> will probably be sufficient for how we use the package in this assignment.</p>
<section id="a-expected-value-calculations" class="level2">
<h2 class="anchored" data-anchor-id="a-expected-value-calculations">1a Expected value calculations</h2>
<p>This first code chunk is just an example; you don’t need to edit it. Here, using the rdecision package, I have created a decision tree, visualized it, and “roll it back” to calculate the expected cost and QALYs associated with the two strategies. Review it carefully, because in 1b, you’ll do similar calculations for a different decision tree.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Use install.packages("XXXX") if you don't have any of these installed</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rdecision) <span class="co">#decision trees</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable) <span class="co">#Formatting tables to display (https://davidgohel.github.io/flextable/reference/index.html)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co">#Plotting</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co">#for read_excel()</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># I use mutate at one point</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>()) <span class="co">#Makes ggplots look better</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Decision problem: Should we use diet or excercise to reduce chance of needing a stent in a high-risk population?</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>c_diet <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="co">#cost of diet</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>c_excercise <span class="ot">&lt;-</span> <span class="dv">750</span> <span class="co">#cost of exercise</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>c_stent <span class="ot">&lt;-</span> <span class="dv">5000</span> <span class="co">#cost of a stent</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>u_stent <span class="ot">&lt;-</span> <span class="fl">0.75</span> <span class="co">#utility of getting a stent (relative to 1.0)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>p_stent_diet <span class="ot">&lt;-</span> (<span class="dv">68</span> <span class="sc">-</span> <span class="dv">12</span>)<span class="sc">/</span><span class="dv">68</span> <span class="co">#probability needing stent if we diet</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>p_stent_exercise <span class="ot">&lt;-</span> (<span class="dv">58</span> <span class="sc">-</span> <span class="dv">18</span>)<span class="sc">/</span><span class="dv">58</span> <span class="co">#probability of needing a stent if we exercise</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Build model using rdecision package</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Create decision and chance nodes</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>decision_node <span class="ot">&lt;-</span> DecisionNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"Diet or excercise"</span>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>chance_node_diet <span class="ot">&lt;-</span> ChanceNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"Stent?"</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>chance_node_exercise <span class="ot">&lt;-</span> ChanceNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"Stent?"</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Create leaf nodes</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>leaf_node_diet_no_stent <span class="ot">&lt;-</span> LeafNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"No stent"</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>leaf_node_diet_stent <span class="ot">&lt;-</span> LeafNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"Stent"</span>, <span class="at">utility =</span> u_stent)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>leaf_node_exercise_no_stent <span class="ot">&lt;-</span> LeafNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"No stent"</span>)</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>leaf_node_exercise_stent <span class="ot">&lt;-</span> LeafNode<span class="sc">$</span><span class="fu">new</span>(<span class="st">"Stent"</span>, <span class="at">utility =</span> u_stent)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Create 'actions', paths from your decision node(s)</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>action_diet <span class="ot">&lt;-</span> Action<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  decision_node, chance_node_diet, <span class="at">cost =</span> c_diet, <span class="at">label =</span> <span class="st">"Diet"</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>action_exercise <span class="ot">&lt;-</span> Action<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  decision_node, chance_node_exercise, <span class="at">cost =</span> c_excercise, <span class="at">label =</span> <span class="st">"Exercise"</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a><span class="co">#Create 'reactions', paths from your chance node(s)</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>reaction_diet_success <span class="ot">&lt;-</span> Reaction<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  chance_node_diet, leaf_node_diet_no_stent, </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> <span class="dv">1</span><span class="sc">-</span>p_stent_diet, <span class="at">cost =</span> <span class="fl">0.0</span>, <span class="at">label =</span> <span class="st">"Did not need stent"</span>)</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>reaction_diet_failure <span class="ot">&lt;-</span> Reaction<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  chance_node_diet, leaf_node_diet_stent, </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> p_stent_diet, <span class="at">cost =</span> c_stent, <span class="at">label =</span> <span class="st">"Needed stent"</span>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>reaction_exercise_success <span class="ot">&lt;-</span> Reaction<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  chance_node_exercise, leaf_node_exercise_no_stent, </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> <span class="dv">1</span><span class="sc">-</span>p_stent_exercise, <span class="at">cost =</span> <span class="fl">0.0</span>, <span class="at">label =</span> <span class="st">"Did not need stent"</span>)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>reaction_exercise_failure <span class="ot">&lt;-</span> Reaction<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  chance_node_exercise, leaf_node_exercise_stent, </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> p_stent_exercise, <span class="at">cost =</span> <span class="fl">5000.0</span>, <span class="at">label =</span> <span class="st">"Needed stent"</span>)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a><span class="co">#Create, draw, and evaluate the tree</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>DT1 <span class="ot">&lt;-</span> DecisionTree<span class="sc">$</span><span class="fu">new</span>(</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">V =</span> <span class="fu">list</span>(decision_node, <span class="co">#verticies (nodes)</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>           chance_node_diet, </span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>           chance_node_exercise, </span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>           leaf_node_diet_no_stent, </span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>           leaf_node_diet_stent, </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>           leaf_node_exercise_no_stent, </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>           leaf_node_exercise_stent),</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">E =</span> <span class="fu">list</span>(action_diet, <span class="co">#edges (paths between nodes)</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>           action_exercise,</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>           reaction_diet_success,</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>           reaction_diet_failure,</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>           reaction_exercise_success,</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>           reaction_exercise_failure)</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>DT1<span class="sc">$</span><span class="fu">draw</span>() <span class="co">#Plot it</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="assign1_trees_cea_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>DT1_evaluation <span class="ot">&lt;-</span> DT1<span class="sc">$</span><span class="fu">evaluate</span>() <span class="co">#calculate it</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>DT1_evaluation <span class="sc">|&gt;</span> <span class="fu">flextable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9d7f2c6e{}.cl-9d791e0a{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9d7bce16{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9d7bce20{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9d7bde24{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9d7bde2e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9d7bde2f{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9d7bde30{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9d7bde38{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9d7bde39{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9d7f2c6e"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9d7bde24"><p class="cl-9d7bce16"><span class="cl-9d791e0a">Diet.or.excercise</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">Run</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">Probability</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">Cost</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">Benefit</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">Utility</span></p></td><td class="cl-9d7bde2e"><p class="cl-9d7bce20"><span class="cl-9d791e0a">QALY</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9d7bde2f"><p class="cl-9d7bce16"><span class="cl-9d791e0a">Diet</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">1</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">1</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">4,167.647</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0.7941176</span></p></td><td class="cl-9d7bde30"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0.7941176</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9d7bde38"><p class="cl-9d7bce16"><span class="cl-9d791e0a">Exercise</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">1</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">1</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">4,198.276</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0.8275862</span></p></td><td class="cl-9d7bde39"><p class="cl-9d7bce20"><span class="cl-9d791e0a">0.8275862</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>In the code chunk below, using the variables defined in the last code chunk (e.g., <code>p_stent_diet</code>), calculate the expected utility and expected cost of the diet arm without using the <code>rdecision</code> package (simple summing/multiplying).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>expected_cost_diet <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>expected_utility_diet <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Print the values</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>expected_cost_diet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>expected_utility_diet</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section>
<section id="b-peptic-ulcer-closure-decision-model" class="level2">
<h2 class="anchored" data-anchor-id="b-peptic-ulcer-closure-decision-model">1b Peptic ulcer closure decision model</h2>
<p>You will now develop a decision analysis to inform whether a newer clip should be used to close bleeding peptic ulcers in the gastrointestinal tract during an upper GI endocoscopy, which is also called an EGD (stands for esophagogastroduodenoscopy). The newer clips are called over-the-scope clips, abbreviated OTSc. Randomized trial data show that rebleeding rates are lower following endoscopic closure with OTSc as compared to when standard therapy clips are used, but OTSc are significantly more expensive. You will build a decision tree to determine whether OTSc are ‘worth’ the added expense, either as a first line therapy (i.e.&nbsp;to treat all peptic ulcer bleeds initially) or only for rebleeds (i.e.&nbsp;only if a standard therapy clip failed, resulting in a ‘rebleed’).</p>
<p>We assume all peptic ulcer bleeds are fully resolved during a short hospitalization; we therefore use a time horizon of only 30 days. No discounting is needed due to the short time horizon. Because this analysis involves very small differences in utility, our parameters are in quality-adjusted life days (QALDs) instead of quality-adjusted life years (QALYs); 1 QALD = 1/365 QALY.</p>
<p>All model parameters are provided for you in the “OTSc” sheet of the excel file <code>params_assign1.xlsx</code>, feel free to open it to take a look. For your assignment to render without error, this .qmd file and that .xlsx file must be in the same folder. The next chunk of code reads in the .xlsx file and generates a parameter table, using the flextable package for formatting (you don’t have to do anything in this code chunk).</p>
<p>NOTE: You might need to close the Excel file for the read_excel function to run properly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#read table from Excel</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>t_params <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'params_assign1.xlsx'</span>, <span class="at">sheet =</span> <span class="st">"OTSc"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Display it nicely</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>t_params <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">merge_v</span>(<span class="at">j=</span><span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="co">#Merge cells in first column with same value (group probabilities, costs, etc.)</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9dbe3b98{}.cl-9db89134{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9db89148{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9dbb2002{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9dbb200c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9dbb2c64{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c65{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c6e{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c6f{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c78{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c79{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c7a{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c82{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c83{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c84{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c8c{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c8d{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c8e{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c96{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c97{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2c98{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2ca0{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2ca1{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2caa{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cab{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cac{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cb4{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cb5{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cb6{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cbe{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cbf{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cc0{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cc8{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cc9{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cca{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cd2{width:0.998in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cd3{width:1.44in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cd4{width:10.416in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cdc{width:1.058in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cdd{width:1.236in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dbb2cde{width:1.261in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9dbe3b98"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c64"><p class="cl-9dbb2002"><span class="cl-9db89134">category</span></p></td><td class="cl-9dbb2c65"><p class="cl-9dbb2002"><span class="cl-9db89134">name</span></p></td><td class="cl-9dbb2c6e"><p class="cl-9dbb2002"><span class="cl-9db89134">description</span></p></td><td class="cl-9dbb2c6f"><p class="cl-9dbb200c"><span class="cl-9db89134">base_case</span></p></td><td class="cl-9dbb2c78"><p class="cl-9dbb200c"><span class="cl-9db89134">lower_bound</span></p></td><td class="cl-9dbb2c79"><p class="cl-9dbb200c"><span class="cl-9db89134">upper_bound</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td rowspan="4" class="cl-9dbb2c7a"><p class="cl-9dbb2002"><span class="cl-9db89148">Probability</span></p></td><td class="cl-9dbb2c82"><p class="cl-9dbb2002"><span class="cl-9db89148">p_ST_rebleed</span></p></td><td class="cl-9dbb2c83"><p class="cl-9dbb2002"><span class="cl-9db89148">Continued bleding after an initial EGD using standard therapy clip</span></p></td><td class="cl-9dbb2c84"><p class="cl-9dbb200c"><span class="cl-9db89148">0.110</span></p></td><td class="cl-9dbb2c8c"><p class="cl-9dbb200c"><span class="cl-9db89148">0.080</span></p></td><td class="cl-9dbb2c8d"><p class="cl-9dbb200c"><span class="cl-9db89148">0.14</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">p_OTSc_rebleed</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Continued bleding after an initial EGD using OTSc</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">0.053</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">0.007</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">0.09</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">p_ST_rpt_IR</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Interventional Radiology (IR) procedure needed after second line EGD using standard therapy</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">0.576</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">0.390</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">0.76</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">p_OTSc_rpt_IR</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Interventional Radiology (IR) procedure needed after second line  EGD using OTSc</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">0.152</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">0.030</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">0.27</span></p></td></tr><tr style="overflow-wrap:break-word;"><td rowspan="7" class="cl-9dbb2caa"><p class="cl-9dbb2002"><span class="cl-9db89148">Cost</span></p></td><td class="cl-9dbb2cab"><p class="cl-9dbb2002"><span class="cl-9db89148">c_EGD_MD</span></p></td><td class="cl-9dbb2cac"><p class="cl-9dbb2002"><span class="cl-9db89148">EGD physician fee (CPT code)</span></p></td><td class="cl-9dbb2cb4"><p class="cl-9dbb200c"><span class="cl-9db89148">192.990</span></p></td><td class="cl-9dbb2cb5"><p class="cl-9dbb200c"><span class="cl-9db89148">100.000</span></p></td><td class="cl-9dbb2cb6"><p class="cl-9dbb200c"><span class="cl-9db89148">1,000.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2cab"><p class="cl-9dbb2002"><span class="cl-9db89148">c_STclip</span></p></td><td class="cl-9dbb2cac"><p class="cl-9dbb2002"><span class="cl-9db89148">Cost of standard therapy clip</span></p></td><td class="cl-9dbb2cb4"><p class="cl-9dbb200c"><span class="cl-9db89148">174.000</span></p></td><td class="cl-9dbb2cb5"><p class="cl-9dbb200c"><span class="cl-9db89148">50.000</span></p></td><td class="cl-9dbb2cb6"><p class="cl-9dbb200c"><span class="cl-9db89148">610.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2cbf"><p class="cl-9dbb2002"><span class="cl-9db89148">c_OTSclip</span></p></td><td class="cl-9dbb2cc0"><p class="cl-9dbb2002"><span class="cl-9db89148">Cost of over-the-scope clip</span></p></td><td class="cl-9dbb2cc8"><p class="cl-9dbb200c"><span class="cl-9db89148">438.000</span></p></td><td class="cl-9dbb2cc9"><p class="cl-9dbb200c"><span class="cl-9db89148">170.000</span></p></td><td class="cl-9dbb2cca"><p class="cl-9dbb200c"><span class="cl-9db89148">1,000.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">c_hosp_noCC</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Hospitalization cost of single successful EGD, based on DRG 379:  GI hemorrhage hospitalization w/o CC</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">5,534.110</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">2,500.000</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">7,500.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">c_hosp_CC</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Hospitalization cost of needing two EGDs, based on DRG 377, GI hemorrhage hospitalization w/ CC</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">7,503.890</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">5,500.000</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">13,000.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">c_hosp_MCC</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">Hospitalization cost of two failed EGDs followed by an interventional radiology procedure, based on, DRG 378, GI hemorrhage hospitalization w/ MCC</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">13,097.080</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">7,503.890</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">25,000.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2cd3"><p class="cl-9dbb2002"><span class="cl-9db89148">c_IR_MD</span></p></td><td class="cl-9dbb2cd4"><p class="cl-9dbb2002"><span class="cl-9db89148">Interventional radiology physician fee</span></p></td><td class="cl-9dbb2cdc"><p class="cl-9dbb200c"><span class="cl-9db89148">1,005.310</span></p></td><td class="cl-9dbb2cdd"><p class="cl-9dbb200c"><span class="cl-9db89148">200.000</span></p></td><td class="cl-9dbb2cde"><p class="cl-9dbb200c"><span class="cl-9db89148">2,000.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td rowspan="3" class="cl-9dbb2c8e"><p class="cl-9dbb2002"><span class="cl-9db89148">QALY</span></p></td><td class="cl-9dbb2c96"><p class="cl-9dbb2002"><span class="cl-9db89148">q_single_EGD</span></p></td><td class="cl-9dbb2c97"><p class="cl-9dbb2002"><span class="cl-9db89148">QALYs experienced in one-year period if single EGD needed (loss of 4.75 quality-adjusted life days)</span></p></td><td class="cl-9dbb2c98"><p class="cl-9dbb200c"><span class="cl-9db89148">0.987</span></p></td><td class="cl-9dbb2ca0"><p class="cl-9dbb200c"><span class="cl-9db89148">0.984</span></p></td><td class="cl-9dbb2ca1"><p class="cl-9dbb200c"><span class="cl-9db89148">1.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2cab"><p class="cl-9dbb2002"><span class="cl-9db89148">q_double_EGD</span></p></td><td class="cl-9dbb2cac"><p class="cl-9dbb2002"><span class="cl-9db89148">QALYs experienced in one-year period if two EGDs needed (1.1 quality-adjusted life days)</span></p></td><td class="cl-9dbb2cb4"><p class="cl-9dbb200c"><span class="cl-9db89148">0.984</span></p></td><td class="cl-9dbb2cb5"><p class="cl-9dbb200c"><span class="cl-9db89148">0.970</span></p></td><td class="cl-9dbb2cb6"><p class="cl-9dbb200c"><span class="cl-9db89148">1.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dbb2cab"><p class="cl-9dbb2002"><span class="cl-9db89148">q_IR</span></p></td><td class="cl-9dbb2cac"><p class="cl-9dbb2002"><span class="cl-9db89148">QALYs experienced in one-year period if two EGDs and an IR procedure needed (3.65 quality-adjusted life days)</span></p></td><td class="cl-9dbb2cb4"><p class="cl-9dbb200c"><span class="cl-9db89148">0.974</span></p></td><td class="cl-9dbb2cb5"><p class="cl-9dbb200c"><span class="cl-9db89148">0.939</span></p></td><td class="cl-9dbb2cb6"><p class="cl-9dbb200c"><span class="cl-9db89148">1.00</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>In the code chunk below, build the model using the rdecision package with the ‘base_case’ value for each parameter (we won’t be using the ‘lower_bound’ or ‘upper_bound’ columns for anything in this problem set).</p>
<p>Your model should start with a decision mode with three options:</p>
<ul>
<li><p><strong>OTSc first:</strong> use OTS clip for first line therapy; if a rebleed occurs use a standard clip for second line therapy</p></li>
<li><p><strong>ST first:</strong> use a standard clip for first line therapy; if a rebleed occurs use an OTS clip for second line therapy</p></li>
<li><p><strong>ST only</strong>: use a standard clip for first line therapy and, if a rebleed occurs, for second line therapy.</p></li>
</ul>
<p>All three arms from this decision node (“actions” in the rdecision package) will end at a chance node corresponding to the outcomes of the first line EGD. From the initial chance node, there are two possibilities:</p>
<ul>
<li><p><strong>Success:</strong> the first line procedure was a success (ends in a leaf node).</p></li>
<li><p><strong>Further bleeding; second EGD needed:</strong> A second EGD is needed to try and close the peptic ulcer bleed (ends in a chance node corresponding to the outcome of the second line EGD).</p></li>
</ul>
<p>After second-line therapy, you have another chance node with two possibilities:</p>
<ul>
<li><p><strong>Success:</strong> second line therapy worked (ends in a leaf node).</p></li>
<li><p><strong>Further bleeding; IR procedure needed:</strong> After 2 failed EGDs, patients undergo an interventional radiology procedure, which we assume will be successful (ends in a leaf node).</p></li>
</ul>
<p><strong>Costs:</strong> You will accumulate costs along the action and reaction paths:</p>
<ul>
<li><p>In the actions from this initial decision node, patients incur the cost for the physician fee to do the EGD (<code>c_EGD_MD</code>) and the cost of whichever clip was used (<code>c_STclip</code> or <code>c_OTSclip</code>)</p></li>
<li><p>If the first line EGD was successful, we add in the cost of a hospitalization with no major complications or comorbidities (<code>c_hosp_noCC</code>).</p></li>
<li><p>If the first line EGD was unsuccessful, we add in the costs of a second EGD (physician fee plus cost of whichever clip is being used for second line therapy)</p></li>
<li><p>If the second line EGD was successful, we add in the cost of a hospitalization with minor complications and comorbidities (<code>c_hosp_CC</code>)</p></li>
<li><p>If the second line EGD was unsuccessful and an IR proceducure was needed, we add in the cost of the IR physician fee (<code>c_IR_MD</code>), and the cost of a hospitalization with major complications/comorbidities (<code>c_hosp_MCC</code>).</p></li>
</ul>
<p><strong>Quality-adjusted life years:</strong> We will use rdecision’s default time horizon of one year. You will need to assign one of the three parameters <code>q_single_EGD</code>, <code>q_double_EGD</code>, and <code>q_IR</code> as the utility at each leaf node, depending on which procedures the patient underwent in order to arrive at that leaf.</p>
<p>Tips:</p>
<ul>
<li><p>Draw the tree on paper before you start coding it.</p></li>
<li><p>Focus on tree structure and probabilities first, plot it, and then add costs and utilities.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I like to turn the parameters from my table into  a named list</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Then I can refer to the parameter I want by, e.g., `params$c_OTS`</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>params <span class="ot">&lt;-</span> <span class="fu">as.list</span>(t_params<span class="sc">$</span>base_case)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(params) <span class="ot">&lt;-</span> t_params<span class="sc">$</span>name</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Create root decision node</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>decision_node <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create chance nodes for whether first-line therapy was successful in each scenario</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Create chance nodes for whether second-line therapy was successful in each scenario</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Create leaf nodes</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># (9 total. "1st line success", "2nd line success", and "IR needed" for each scenario)</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co">#Create 'actions', paths from your decision node(s).</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">#Create 'reactions', paths from your chance node(s)</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 12 total:</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Reactions for success after first-line therapy</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Reactions for failure (rebleed) after first-line therapy</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Reactions for success after second-line therapy</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Reactions for failure (IR needed) after second-line therapy</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#First line success:</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a><span class="co">#First line failure:</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a><span class="co">#Second line success:</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a><span class="co">#Second line failure:</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a><span class="co">#Create the tree</span></span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>DT2 <span class="ot">&lt;-</span><span class="cn">NA</span></span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw the tree</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a><span class="co">#DT2$draw()</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Create table with the expected cost and utility (in QALYs or QALD) of each alternative</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a><span class="co">#DT2_evaluation &lt;- DT2$evaluate() #calculate it</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a><span class="co">#DT2_evaluation |&gt; flextable()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The differences in QALYs experienced in a one-year period is hard to see. We can instead convert the QALYs experienced to lost quality-adjusted life days (QALDs lost). I wrote the code for you; you just need to uncomment it after completing the previous code block.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># DT2_evaluation &lt;- DT2_evaluation |&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   mutate(QALD_lost = (1 - QALY)*365)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># DT2_evaluation |&gt; flextable()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Using a willingness to pay threshold of $50,000 per QALY ($137 per QALD), indicate whether each intervention is dominated with strong dominance, Dominated by extended dominant, not preferred, or preferred (exactly one intervention should be preferred). Indicate the ICER for any non-dominated interventions when applicable.</p>
<blockquote class="blockquote">
<p>ST only:</p>
<p>ST first:</p>
<p>OTSc first:</p>
</blockquote>
<p>In case you’re curious, this is a slightly simplified version of <a href="https://doi.org/10.1016/j.giec.2019.09.004">a paper I published as a PhD student</a>.</p>
</section>
</section>
<section id="section-2-economic-evaluation" class="level1">
<h1>Section 2: Economic evaluation</h1>
<section id="a-discounting" class="level2">
<h2 class="anchored" data-anchor-id="a-discounting">2a Discounting</h2>
<p>The vector <code>costs_by_year</code> represents costs by year, starting with year 0 (this year, which should not be discounted). Calculate the net present cost with an annual discount rate of 2% and of 5%.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>costs_by_year <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">500</span>, <span class="dv">350</span>, <span class="dv">700</span>) <span class="co">#costs 0, 1, 2, 3, and 4 years into the future</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>npc_2percent <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co">#Calculate the net present cost with a discount rate of 2 percent</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>npc_5percent <span class="ot">&lt;-</span> <span class="cn">NA</span> <span class="co">#Calculate the net present cost with a discount rate of 5 percent</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>npc_2percent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>npc_5percent</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
</section>
<section id="b-incremental-analysis" class="level2">
<h2 class="anchored" data-anchor-id="b-incremental-analysis">2b Incremental analysis</h2>
<p>In this section, we’ll use loops to conduct incremental analysis, the process of identifying dominated strategies and calculating the incremental cost-effectiveness ratios (ICERs) between the remaining non-dominated strategies. Coding this yourself should give you a strong understanding of the concept. Let’s get started!</p>
<p>First, I’ve written the code for you that reads in the data on 9 different strategies we wish to compare (from the params_assign1.xlsx file). For each strategy, we are provided with the estimated QALYs experienced and the estimated cost across three categories: those insurer pays, out-of-pocket costs paid by the patient, and productivity loss.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#No edits needed to this code chunk</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#read table from Excel</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>t_CE <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'params_assign1.xlsx'</span>, <span class="at">sheet =</span> <span class="st">"CEdata"</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Display it nicely</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>t_CE <span class="sc">|&gt;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9dd9bb3e{}.cl-9dd4c1d8{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9dd4c1ec{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9dd6c550{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9dd6c55a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9dd6d284{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d285{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d28e{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d28f{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d298{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d299{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2a2{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2a3{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2a4{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2ac{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2ad{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2b6{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2b7{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2c0{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2c1{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2c2{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2ca{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2cb{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2d4{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2d5{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2de{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2df{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2e0{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2e8{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9dd6d2e9{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9dd9bb3e"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d284"><p class="cl-9dd6c550"><span class="cl-9dd4c1d8">Strategy</span></p></td><td class="cl-9dd6d285"><p class="cl-9dd6c55a"><span class="cl-9dd4c1d8">QALYs</span></p></td><td class="cl-9dd6d28e"><p class="cl-9dd6c55a"><span class="cl-9dd4c1d8">Cost_insurer</span></p></td><td class="cl-9dd6d28f"><p class="cl-9dd6c55a"><span class="cl-9dd4c1d8">Cost_patient</span></p></td><td class="cl-9dd6d298"><p class="cl-9dd6c55a"><span class="cl-9dd4c1d8">Cost_productivity</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d299"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">G</span></p></td><td class="cl-9dd6d2a2"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">1.21</span></p></td><td class="cl-9dd6d2a3"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">110,000</span></p></td><td class="cl-9dd6d2a4"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">1,080</span></p></td><td class="cl-9dd6d2ac"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">1,318</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2ad"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">A</span></p></td><td class="cl-9dd6d2b6"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">2.03</span></p></td><td class="cl-9dd6d2b7"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">120,000</span></p></td><td class="cl-9dd6d2c0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">10,800</span></p></td><td class="cl-9dd6d2c1"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">2,212</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2ad"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">B</span></p></td><td class="cl-9dd6d2b6"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">3.04</span></p></td><td class="cl-9dd6d2b7"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">747,000</span></p></td><td class="cl-9dd6d2c0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">224,100</span></p></td><td class="cl-9dd6d2c1"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">3,070</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2c2"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">I</span></p></td><td class="cl-9dd6d2ca"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">3.43</span></p></td><td class="cl-9dd6d2cb"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">504,000</span></p></td><td class="cl-9dd6d2d4"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5,940</span></p></td><td class="cl-9dd6d2d5"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">3,430</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2ad"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">E</span></p></td><td class="cl-9dd6d2b6"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5.03</span></p></td><td class="cl-9dd6d2b7"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">414,000</span></p></td><td class="cl-9dd6d2c0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">124,200</span></p></td><td class="cl-9dd6d2c1"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">4,828</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2de"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">C</span></p></td><td class="cl-9dd6d2df"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5.49</span></p></td><td class="cl-9dd6d2e0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">594,000</span></p></td><td class="cl-9dd6d2e8"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">64,800</span></p></td><td class="cl-9dd6d2e9"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5,105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2de"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">H</span></p></td><td class="cl-9dd6d2df"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5.64</span></p></td><td class="cl-9dd6d2e0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">310,000</span></p></td><td class="cl-9dd6d2e8"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">23,760</span></p></td><td class="cl-9dd6d2e9"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5,414</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2de"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">F</span></p></td><td class="cl-9dd6d2df"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">6.10</span></p></td><td class="cl-9dd6d2e0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">324,000</span></p></td><td class="cl-9dd6d2e8"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">81,000</span></p></td><td class="cl-9dd6d2e9"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">5,396</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9dd6d2de"><p class="cl-9dd6c550"><span class="cl-9dd4c1ec">D</span></p></td><td class="cl-9dd6d2df"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">8.39</span></p></td><td class="cl-9dd6d2e0"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">648,000</span></p></td><td class="cl-9dd6d2e8"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">110,880</span></p></td><td class="cl-9dd6d2e9"><p class="cl-9dd6c55a"><span class="cl-9dd4c1ec">8,641</span></p></td></tr></tbody></table></div>
</div>
</div>
<p><strong>Insurer perspective:</strong> In this code chunk, you’ll calculate the cost-effectiveness from the insurer’s perspective (only including costs in the <code>Cost_insurer</code> column). First, we detect any strategies that are dominated by strong dominance, then, we check for costs that are dominated by extended dominance. Lastly, we calculate the ICERs between all non-dominated interventions. I’ve provided some of the code, but you’ll need to complete it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Create table with columns "strategy", "QALYs", and "Cost", where cost is the Cost_insurer. We'll add two columns, one for whether the strategy is dominated and another for putting the ICERS for non-dominated interventions</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>t_ICERS <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Strategy =</span> t_CE<span class="sc">$</span>Strategy,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">QALYs =</span> t_CE<span class="sc">$</span>QALYs,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> t_CE<span class="sc">$</span>Cost_insurer,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Dominated =</span> <span class="st">"No"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ICER =</span> <span class="fl">0.0</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Sort t_ICERS ascending by QALYs (from low to high)</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>t_ICERS <span class="ot">&lt;-</span> t_ICERS <span class="co">#EDIT THIS</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">#We need to reset the row index names</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(t_ICERS) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="do">### REMOVE INTERVENTIONS DOMINATED BY STRONG DOMINANCE</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="co"># We have to loop through rows to identify dominated strategies. If we find any,</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="co">#  we need to look through them again in case there are more. We will use a while loop.</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>continue <span class="ot">=</span> T <span class="co">#If this is still T at the end of the while loop, it will restart</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(continue){</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  continue <span class="ot">=</span> F <span class="co">#if no dominated strategies found in for loop below, exit while loop</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Get the row index for all rows that aren't dominated</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  idx_nondom_rows <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">rownames</span>(t_ICERS[t_ICERS<span class="sc">$</span>Dominated<span class="sc">==</span><span class="st">"No"</span>,]))</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Get number of non-dominated rows</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  n_nondom <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co">#EDIT THIS</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#LOOP over each row starting with the second non-dominated row</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># compare it to previous non-dominated row to see if it is dominated</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>n_nondom){</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>    row_this <span class="ot">&lt;-</span> idx_nondom_rows[i] <span class="co">#index of the current row</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>    row_last <span class="ot">&lt;-</span> idx_nondom_rows[i<span class="dv">-1</span>] <span class="co">#index of last undominated row</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (F){ <span class="co">#Replace 'F' with the correct condition</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>      <span class="co">#Strategy in row t_ICERS[row_last, ] is strong dominated</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set Dominated value to "Strong"</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set ICER value to NA</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set continue to T so that we do another loop</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>      <span class="co">#YOUR CODE HERE</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a><span class="do">### REMOVE INTERVENTIONS DOMINATED BY EXTENDED DOMINANCE</span></span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a><span class="co"># We have to loop through rows to identify dominated strategies. If we find any,</span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="co">#  we need to look through them again in case there are more. We will use a while loop.</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>continue <span class="ot">=</span> T</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span>(continue){</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>  continue <span class="ot">=</span> F <span class="co">#if no dominated strategies are found, exit loop</span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Get the row index for all rows that aren't dominated</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>  idx_nondom_rows <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">rownames</span>(t_ICERS[t_ICERS<span class="sc">$</span>Dominated<span class="sc">==</span><span class="st">"No"</span>,]))</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Get number of nondom rows</span></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>  n_nondom <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co">#EDIT THIS</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>  <span class="co">#LOOP over each row starting with the second non-dominated row</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># compare it to previous non-dominated row to see if it is dominated</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>n_nondom){</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>    row_this <span class="ot">&lt;-</span> idx_nondom_rows[i] <span class="co">#index of the current row</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>    row_last <span class="ot">&lt;-</span> idx_nondom_rows[i<span class="dv">-1</span>] <span class="co">#index of last undominated row</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Calculate ICER for row_this compared to last non-dominated row</span></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Put it in t_ICERS[row_this,"ICER"]</span></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a>    <span class="co">#YOUR CODE HERE</span></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(F){ <span class="co">#REPLACE F WITH THE CORRECT CONDITION</span></span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a>      <span class="co">#Strategy in row t_ICERS[row_last, ] is extended dominated</span></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set Dominated value to "Extended"</span></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set ICER value to NA</span></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>      <span class="co"># set continue to T so that we do another loop</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>      <span class="co">#YOUR CODE HERE</span></span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a><span class="co">#Display it nicely</span></span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a>t_ICERS <span class="sc">|&gt;</span></span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9df212a6{}.cl-9decf4a6{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9decf4b0{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9def1614{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9def161e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9def228a{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def2294{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def2295{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def229e{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def229f{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22a0{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22a8{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22b2{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22b3{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22bc{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22bd{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22c6{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22c7{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22c8{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22d0{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22d1{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22d2{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22da{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22db{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22e4{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22e5{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22e6{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22ee{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22ef{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22f8{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22f9{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def22fa{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def2302{width:0.837in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def2303{width:1.075in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9def230c{width:0.65in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9df212a6"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9def228a"><p class="cl-9def1614"><span class="cl-9decf4a6">Strategy</span></p></td><td class="cl-9def2294"><p class="cl-9def161e"><span class="cl-9decf4a6">QALYs</span></p></td><td class="cl-9def2295"><p class="cl-9def161e"><span class="cl-9decf4a6">Cost</span></p></td><td class="cl-9def229e"><p class="cl-9def1614"><span class="cl-9decf4a6">Dominated</span></p></td><td class="cl-9def229f"><p class="cl-9def161e"><span class="cl-9decf4a6">ICER</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9def22a0"><p class="cl-9def1614"><span class="cl-9decf4b0">G</span></p></td><td class="cl-9def22a8"><p class="cl-9def161e"><span class="cl-9decf4b0">1.21</span></p></td><td class="cl-9def22b2"><p class="cl-9def161e"><span class="cl-9decf4b0">110,000</span></p></td><td class="cl-9def22b3"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22bc"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22bd"><p class="cl-9def1614"><span class="cl-9decf4b0">A</span></p></td><td class="cl-9def22c6"><p class="cl-9def161e"><span class="cl-9decf4b0">2.03</span></p></td><td class="cl-9def22c7"><p class="cl-9def161e"><span class="cl-9decf4b0">120,000</span></p></td><td class="cl-9def22c8"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22d0"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22d1"><p class="cl-9def1614"><span class="cl-9decf4b0">B</span></p></td><td class="cl-9def22d2"><p class="cl-9def161e"><span class="cl-9decf4b0">3.04</span></p></td><td class="cl-9def22da"><p class="cl-9def161e"><span class="cl-9decf4b0">747,000</span></p></td><td class="cl-9def22db"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22e4"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22d1"><p class="cl-9def1614"><span class="cl-9decf4b0">I</span></p></td><td class="cl-9def22d2"><p class="cl-9def161e"><span class="cl-9decf4b0">3.43</span></p></td><td class="cl-9def22da"><p class="cl-9def161e"><span class="cl-9decf4b0">504,000</span></p></td><td class="cl-9def22db"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22e4"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22d1"><p class="cl-9def1614"><span class="cl-9decf4b0">E</span></p></td><td class="cl-9def22d2"><p class="cl-9def161e"><span class="cl-9decf4b0">5.03</span></p></td><td class="cl-9def22da"><p class="cl-9def161e"><span class="cl-9decf4b0">414,000</span></p></td><td class="cl-9def22db"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22e4"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22d1"><p class="cl-9def1614"><span class="cl-9decf4b0">C</span></p></td><td class="cl-9def22d2"><p class="cl-9def161e"><span class="cl-9decf4b0">5.49</span></p></td><td class="cl-9def22da"><p class="cl-9def161e"><span class="cl-9decf4b0">594,000</span></p></td><td class="cl-9def22db"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22e4"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22e5"><p class="cl-9def1614"><span class="cl-9decf4b0">H</span></p></td><td class="cl-9def22e6"><p class="cl-9def161e"><span class="cl-9decf4b0">5.64</span></p></td><td class="cl-9def22ee"><p class="cl-9def161e"><span class="cl-9decf4b0">310,000</span></p></td><td class="cl-9def22ef"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22f8"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22bd"><p class="cl-9def1614"><span class="cl-9decf4b0">F</span></p></td><td class="cl-9def22c6"><p class="cl-9def161e"><span class="cl-9decf4b0">6.10</span></p></td><td class="cl-9def22c7"><p class="cl-9def161e"><span class="cl-9decf4b0">324,000</span></p></td><td class="cl-9def22c8"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def22d0"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9def22f9"><p class="cl-9def1614"><span class="cl-9decf4b0">D</span></p></td><td class="cl-9def22fa"><p class="cl-9def161e"><span class="cl-9decf4b0">8.39</span></p></td><td class="cl-9def2302"><p class="cl-9def161e"><span class="cl-9decf4b0">648,000</span></p></td><td class="cl-9def2303"><p class="cl-9def1614"><span class="cl-9decf4b0">No</span></p></td><td class="cl-9def230c"><p class="cl-9def161e"><span class="cl-9decf4b0">0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p><strong>Function-ize it:</strong> The following code chunk contains the shell of a function that takes three vectors (strategy_name, cost, and QALY), puts them into a table called t_ICERS, does calculations, and then returns the table with ICER and dominated columns added. Complete the funciton by copying and pasting code from the previous code chunk</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#INPUT: 3 equal-length vectors strategy_name, cost, and QALYs</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#OUTPUT: A data.frame with a column for each of the input vectors, plus "Dominated" and "ICER" columns</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>generate_ICER_table <span class="ot">&lt;-</span> <span class="cf">function</span>(strategy_name, cost, QALYs){</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  t_ICERS <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Strategy =</span> strategy_name,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">QALYs =</span> QALYs,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost =</span> cost,</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Dominated =</span> <span class="st">"No"</span>,</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">ICER =</span> <span class="fl">0.0</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#YOUR CODE HERE</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(t_ICERS)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Other perspectives:</strong> using the function above, complete the incremental analysis from three cost perspectives:</p>
<ul>
<li><strong>Insurer:</strong> same as above</li>
<li><strong>Healthcare costs</strong> includes insurer and patient out-of-pocket costs</li>
<li><strong>Societal:</strong> healthcare costs plus productivity loss</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>t_ICER_insurer <span class="ot">&lt;-</span> t_CE <span class="co">#REPLACE WITH CORRECT CODE</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>t_ICER_healthcare_cost <span class="ot">&lt;-</span> t_CE <span class="co">#REPLACE WITH CORRECT CODE</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>t_ICER_societal <span class="ot">&lt;-</span> t_CE <span class="co">#REPLACE WITH CORRECT CODE</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Display them nicely</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">#INSURER PERSPECTIVE</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>t_ICER_insurer <span class="sc">|&gt;</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9e097536{}.cl-9e03daae{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e03dac2{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e066454{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e06645e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e0672a0{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672a1{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672aa{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672ab{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672b4{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672b5{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672b6{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672be{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672bf{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672c8{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672d2{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672d3{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672dc{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672dd{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672e6{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672e7{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672f0{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e0672fa{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e067304{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e067305{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e06730e{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e06730f{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e067310{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e067318{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e067319{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9e097536"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9e0672a0"><p class="cl-9e066454"><span class="cl-9e03daae">Strategy</span></p></td><td class="cl-9e0672a1"><p class="cl-9e06645e"><span class="cl-9e03daae">QALYs</span></p></td><td class="cl-9e0672aa"><p class="cl-9e06645e"><span class="cl-9e03daae">Cost_insurer</span></p></td><td class="cl-9e0672ab"><p class="cl-9e06645e"><span class="cl-9e03daae">Cost_patient</span></p></td><td class="cl-9e0672b4"><p class="cl-9e06645e"><span class="cl-9e03daae">Cost_productivity</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9e0672b5"><p class="cl-9e066454"><span class="cl-9e03dac2">G</span></p></td><td class="cl-9e0672b6"><p class="cl-9e06645e"><span class="cl-9e03dac2">1.21</span></p></td><td class="cl-9e0672be"><p class="cl-9e06645e"><span class="cl-9e03dac2">110,000</span></p></td><td class="cl-9e0672bf"><p class="cl-9e06645e"><span class="cl-9e03dac2">1,080</span></p></td><td class="cl-9e0672c8"><p class="cl-9e06645e"><span class="cl-9e03dac2">1,318</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e0672d2"><p class="cl-9e066454"><span class="cl-9e03dac2">A</span></p></td><td class="cl-9e0672d3"><p class="cl-9e06645e"><span class="cl-9e03dac2">2.03</span></p></td><td class="cl-9e0672dc"><p class="cl-9e06645e"><span class="cl-9e03dac2">120,000</span></p></td><td class="cl-9e0672dd"><p class="cl-9e06645e"><span class="cl-9e03dac2">10,800</span></p></td><td class="cl-9e0672e6"><p class="cl-9e06645e"><span class="cl-9e03dac2">2,212</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e0672d2"><p class="cl-9e066454"><span class="cl-9e03dac2">B</span></p></td><td class="cl-9e0672d3"><p class="cl-9e06645e"><span class="cl-9e03dac2">3.04</span></p></td><td class="cl-9e0672dc"><p class="cl-9e06645e"><span class="cl-9e03dac2">747,000</span></p></td><td class="cl-9e0672dd"><p class="cl-9e06645e"><span class="cl-9e03dac2">224,100</span></p></td><td class="cl-9e0672e6"><p class="cl-9e06645e"><span class="cl-9e03dac2">3,070</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e0672e7"><p class="cl-9e066454"><span class="cl-9e03dac2">I</span></p></td><td class="cl-9e0672f0"><p class="cl-9e06645e"><span class="cl-9e03dac2">3.43</span></p></td><td class="cl-9e0672fa"><p class="cl-9e06645e"><span class="cl-9e03dac2">504,000</span></p></td><td class="cl-9e067304"><p class="cl-9e06645e"><span class="cl-9e03dac2">5,940</span></p></td><td class="cl-9e067305"><p class="cl-9e06645e"><span class="cl-9e03dac2">3,430</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e0672d2"><p class="cl-9e066454"><span class="cl-9e03dac2">E</span></p></td><td class="cl-9e0672d3"><p class="cl-9e06645e"><span class="cl-9e03dac2">5.03</span></p></td><td class="cl-9e0672dc"><p class="cl-9e06645e"><span class="cl-9e03dac2">414,000</span></p></td><td class="cl-9e0672dd"><p class="cl-9e06645e"><span class="cl-9e03dac2">124,200</span></p></td><td class="cl-9e0672e6"><p class="cl-9e06645e"><span class="cl-9e03dac2">4,828</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e06730e"><p class="cl-9e066454"><span class="cl-9e03dac2">C</span></p></td><td class="cl-9e06730f"><p class="cl-9e06645e"><span class="cl-9e03dac2">5.49</span></p></td><td class="cl-9e067310"><p class="cl-9e06645e"><span class="cl-9e03dac2">594,000</span></p></td><td class="cl-9e067318"><p class="cl-9e06645e"><span class="cl-9e03dac2">64,800</span></p></td><td class="cl-9e067319"><p class="cl-9e06645e"><span class="cl-9e03dac2">5,105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e06730e"><p class="cl-9e066454"><span class="cl-9e03dac2">H</span></p></td><td class="cl-9e06730f"><p class="cl-9e06645e"><span class="cl-9e03dac2">5.64</span></p></td><td class="cl-9e067310"><p class="cl-9e06645e"><span class="cl-9e03dac2">310,000</span></p></td><td class="cl-9e067318"><p class="cl-9e06645e"><span class="cl-9e03dac2">23,760</span></p></td><td class="cl-9e067319"><p class="cl-9e06645e"><span class="cl-9e03dac2">5,414</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e06730e"><p class="cl-9e066454"><span class="cl-9e03dac2">F</span></p></td><td class="cl-9e06730f"><p class="cl-9e06645e"><span class="cl-9e03dac2">6.10</span></p></td><td class="cl-9e067310"><p class="cl-9e06645e"><span class="cl-9e03dac2">324,000</span></p></td><td class="cl-9e067318"><p class="cl-9e06645e"><span class="cl-9e03dac2">81,000</span></p></td><td class="cl-9e067319"><p class="cl-9e06645e"><span class="cl-9e03dac2">5,396</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e06730e"><p class="cl-9e066454"><span class="cl-9e03dac2">D</span></p></td><td class="cl-9e06730f"><p class="cl-9e06645e"><span class="cl-9e03dac2">8.39</span></p></td><td class="cl-9e067310"><p class="cl-9e06645e"><span class="cl-9e03dac2">648,000</span></p></td><td class="cl-9e067318"><p class="cl-9e06645e"><span class="cl-9e03dac2">110,880</span></p></td><td class="cl-9e067319"><p class="cl-9e06645e"><span class="cl-9e03dac2">8,641</span></p></td></tr></tbody></table></div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#HEALTHCARE COST PERSPECTIVE</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>t_ICER_healthcare_cost <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9e1dc130{}.cl-9e18a8da{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e18a8e4{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e1ab2c4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e1ab2ce{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e1ac30e{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac318{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac319{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac322{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac323{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac324{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac32c{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac32d{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac336{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac340{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac341{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac342{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac34a{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac34b{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac34c{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac354{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac355{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac35e{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac35f{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac360{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac368{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac369{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac372{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac37c{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e1ac37d{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9e1dc130"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac30e"><p class="cl-9e1ab2c4"><span class="cl-9e18a8da">Strategy</span></p></td><td class="cl-9e1ac318"><p class="cl-9e1ab2ce"><span class="cl-9e18a8da">QALYs</span></p></td><td class="cl-9e1ac319"><p class="cl-9e1ab2ce"><span class="cl-9e18a8da">Cost_insurer</span></p></td><td class="cl-9e1ac322"><p class="cl-9e1ab2ce"><span class="cl-9e18a8da">Cost_patient</span></p></td><td class="cl-9e1ac323"><p class="cl-9e1ab2ce"><span class="cl-9e18a8da">Cost_productivity</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac324"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">G</span></p></td><td class="cl-9e1ac32c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">1.21</span></p></td><td class="cl-9e1ac32d"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">110,000</span></p></td><td class="cl-9e1ac336"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">1,080</span></p></td><td class="cl-9e1ac340"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">1,318</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac341"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">A</span></p></td><td class="cl-9e1ac342"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">2.03</span></p></td><td class="cl-9e1ac34a"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">120,000</span></p></td><td class="cl-9e1ac34b"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">10,800</span></p></td><td class="cl-9e1ac34c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">2,212</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac341"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">B</span></p></td><td class="cl-9e1ac342"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">3.04</span></p></td><td class="cl-9e1ac34a"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">747,000</span></p></td><td class="cl-9e1ac34b"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">224,100</span></p></td><td class="cl-9e1ac34c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">3,070</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac354"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">I</span></p></td><td class="cl-9e1ac355"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">3.43</span></p></td><td class="cl-9e1ac35e"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">504,000</span></p></td><td class="cl-9e1ac35f"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5,940</span></p></td><td class="cl-9e1ac360"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">3,430</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac341"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">E</span></p></td><td class="cl-9e1ac342"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5.03</span></p></td><td class="cl-9e1ac34a"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">414,000</span></p></td><td class="cl-9e1ac34b"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">124,200</span></p></td><td class="cl-9e1ac34c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">4,828</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac368"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">C</span></p></td><td class="cl-9e1ac369"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5.49</span></p></td><td class="cl-9e1ac372"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">594,000</span></p></td><td class="cl-9e1ac37c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">64,800</span></p></td><td class="cl-9e1ac37d"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5,105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac368"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">H</span></p></td><td class="cl-9e1ac369"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5.64</span></p></td><td class="cl-9e1ac372"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">310,000</span></p></td><td class="cl-9e1ac37c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">23,760</span></p></td><td class="cl-9e1ac37d"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5,414</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac368"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">F</span></p></td><td class="cl-9e1ac369"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">6.10</span></p></td><td class="cl-9e1ac372"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">324,000</span></p></td><td class="cl-9e1ac37c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">81,000</span></p></td><td class="cl-9e1ac37d"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">5,396</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e1ac368"><p class="cl-9e1ab2c4"><span class="cl-9e18a8e4">D</span></p></td><td class="cl-9e1ac369"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">8.39</span></p></td><td class="cl-9e1ac372"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">648,000</span></p></td><td class="cl-9e1ac37c"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">110,880</span></p></td><td class="cl-9e1ac37d"><p class="cl-9e1ab2ce"><span class="cl-9e18a8e4">8,641</span></p></td></tr></tbody></table></div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#SOCIETAL PERSPECTIVE</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>t_ICER_societal <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span> <span class="co">#turn into flextable object</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_box</span>() <span class="sc">|&gt;</span> <span class="co">#Apply a theme for aesthetics</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autofit</span>() <span class="co">#automatically set column widths to reasonable values</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-9e3281ba{}.cl-9e2d14be{font-family:'Helvetica';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e2d14c8{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9e2f9aae{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e2f9ab8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9e2fa710{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa71a{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa71b{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa724{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa725{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa72e{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa72f{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa730{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa738{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa739{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa742{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa743{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa744{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa74c{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa74d{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa756{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa757{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa758{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa760{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa761{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa76a{width:0.897in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa76b{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa76c{width:1.228in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa774{width:1.21in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9e2fa775{width:1.584in;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class="cl-9e3281ba"><thead><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa710"><p class="cl-9e2f9aae"><span class="cl-9e2d14be">Strategy</span></p></td><td class="cl-9e2fa71a"><p class="cl-9e2f9ab8"><span class="cl-9e2d14be">QALYs</span></p></td><td class="cl-9e2fa71b"><p class="cl-9e2f9ab8"><span class="cl-9e2d14be">Cost_insurer</span></p></td><td class="cl-9e2fa724"><p class="cl-9e2f9ab8"><span class="cl-9e2d14be">Cost_patient</span></p></td><td class="cl-9e2fa725"><p class="cl-9e2f9ab8"><span class="cl-9e2d14be">Cost_productivity</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa72e"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">G</span></p></td><td class="cl-9e2fa72f"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">1.21</span></p></td><td class="cl-9e2fa730"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">110,000</span></p></td><td class="cl-9e2fa738"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">1,080</span></p></td><td class="cl-9e2fa739"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">1,318</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa742"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">A</span></p></td><td class="cl-9e2fa743"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">2.03</span></p></td><td class="cl-9e2fa744"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">120,000</span></p></td><td class="cl-9e2fa74c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">10,800</span></p></td><td class="cl-9e2fa74d"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">2,212</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa742"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">B</span></p></td><td class="cl-9e2fa743"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">3.04</span></p></td><td class="cl-9e2fa744"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">747,000</span></p></td><td class="cl-9e2fa74c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">224,100</span></p></td><td class="cl-9e2fa74d"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">3,070</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa756"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">I</span></p></td><td class="cl-9e2fa757"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">3.43</span></p></td><td class="cl-9e2fa758"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">504,000</span></p></td><td class="cl-9e2fa760"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5,940</span></p></td><td class="cl-9e2fa761"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">3,430</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa742"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">E</span></p></td><td class="cl-9e2fa743"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5.03</span></p></td><td class="cl-9e2fa744"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">414,000</span></p></td><td class="cl-9e2fa74c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">124,200</span></p></td><td class="cl-9e2fa74d"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">4,828</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa76a"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">C</span></p></td><td class="cl-9e2fa76b"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5.49</span></p></td><td class="cl-9e2fa76c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">594,000</span></p></td><td class="cl-9e2fa774"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">64,800</span></p></td><td class="cl-9e2fa775"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5,105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa76a"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">H</span></p></td><td class="cl-9e2fa76b"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5.64</span></p></td><td class="cl-9e2fa76c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">310,000</span></p></td><td class="cl-9e2fa774"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">23,760</span></p></td><td class="cl-9e2fa775"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5,414</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa76a"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">F</span></p></td><td class="cl-9e2fa76b"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">6.10</span></p></td><td class="cl-9e2fa76c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">324,000</span></p></td><td class="cl-9e2fa774"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">81,000</span></p></td><td class="cl-9e2fa775"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">5,396</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9e2fa76a"><p class="cl-9e2f9aae"><span class="cl-9e2d14c8">D</span></p></td><td class="cl-9e2fa76b"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">8.39</span></p></td><td class="cl-9e2fa76c"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">648,000</span></p></td><td class="cl-9e2fa774"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">110,880</span></p></td><td class="cl-9e2fa775"><p class="cl-9e2f9ab8"><span class="cl-9e2d14c8">8,641</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="c-identifying-maximum-net-monetary-benefit" class="level2">
<h2 class="anchored" data-anchor-id="c-identifying-maximum-net-monetary-benefit">2c Identifying maximum net monetary benefit</h2>
<p>Calculate NMB at a range of WTP thresholds from a societal perspective, and then plot them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Vector of willingness-to-pay values for which to calcualte NMB</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>wtp_vec <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fl">2.5e5</span>, <span class="fl">1e5</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Calcualte societal cost and add it as a column to the t_CE table</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>t_CE<span class="sc">$</span>cost_societal <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#REPLACE WITH CORRECT CODE</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Create a table to contain the NMB calculations</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>t_nmb_plot <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">strategy =</span> <span class="fu">rep</span>(t_CE<span class="sc">$</span>Strategy, <span class="at">each =</span> <span class="fu">length</span>(wtp_vec)),</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">wtp =</span> <span class="fu">rep</span>(wtp_vec, <span class="at">times =</span> <span class="fu">nrow</span>(t_CE)),</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">cost =</span> <span class="fu">rep</span>(t_CE<span class="sc">$</span>cost_societal, <span class="at">each =</span> <span class="fu">length</span>(wtp_vec)),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">QALYs =</span> <span class="fu">rep</span>(t_CE<span class="sc">$</span>QALYs, <span class="at">each =</span> <span class="fu">length</span>(wtp_vec))</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate NMB</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>t_nmb_plot<span class="sc">$</span>NMB <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="co">#REPLACE WITH CORRECT CODE</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot it with ggplot</span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(t_nmb_plot, <span class="fu">aes</span>(<span class="at">x =</span> wtp, <span class="at">y =</span> NMB, <span class="at">color =</span> strategy))<span class="sc">+</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="assign1_trees_cea_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Comparing the net monetary benefit plot to your incremental analysis from the societal perspective, you should observe the following:</p>
<ul>
<li><p>All non-dominated interventions should maximize net monetary benefit for some willingness-to-pay level</p></li>
<li><p>The willingness-to-pay level at which we ‘flip’ from preferring non-dominated strategy i to non-dominated strategy j (i.e., the x-axis value at which the line for strategy j crosses to exceed that of strategy i) corresponds to the ICER of strategy j compared to strategy i.</p></li>
</ul>
</section>
</section>
<section id="last-two-questions" class="level1">
<h1>Last two questions</h1>
<ul>
<li><p>About how much time did you spend on the assignment? <strong>Replace with your answer</strong></p></li>
<li><p>Did you find any errors or have suggestions to improve it? <strong>Replace with your answer</strong></p></li>
</ul>
<p>Fin.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>